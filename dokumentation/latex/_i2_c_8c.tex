\hypertarget{_i2_c_8c}{}\section{sensor/sensor/\+I2C.c File Reference}
\label{_i2_c_8c}\index{sensor/sensor/\+I2\+C.\+c@{sensor/sensor/\+I2\+C.\+c}}
{\ttfamily \#include \char`\"{}I2\+C.\+h\char`\"{}}\\*
{\ttfamily \#include $<$avr/io.\+h$>$}\\*
{\ttfamily \#include $<$avr/interrupt.\+h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{_i2_c_8c_a9dcbbd7906a2df6cfb055ff82ff38d33}{\+\_\+\+I2\+C\+\_\+\+H\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{_i2_c_8c_a263c74ce484e3680c05a9118707fadb7}{I2\+C\+\_\+start} ()
\begin{DoxyCompactList}\small\item\em Opens up the I2\+C-\/bus. \end{DoxyCompactList}\item 
void \hyperlink{_i2_c_8c_af8dcc1bcb3e1c6c0fcdca4cf599a239b}{I2\+C\+\_\+stop} ()
\begin{DoxyCompactList}\small\item\em Shuts down the I2\+C-\/bus. \end{DoxyCompactList}\item 
int \hyperlink{_i2_c_8c_ac0f145afe8d662af199043939f4398d6}{i2c\+\_\+write} (unsigned char slave\+\_\+addr, unsigned char reg\+\_\+addr, unsigned char length, unsigned char const $\ast$data)
\begin{DoxyCompactList}\small\item\em Writes data to a register at slave. \end{DoxyCompactList}\item 
int \hyperlink{_i2_c_8c_ac2d47e7a6c76f93f9b537c31a2986e7b}{i2c\+\_\+read} (unsigned char slave\+\_\+addr, unsigned char reg\+\_\+addr, unsigned char length, unsigned char $\ast$data)
\begin{DoxyCompactList}\small\item\em Reads data from a register at slave. \end{DoxyCompactList}\item 
int \hyperlink{_i2_c_8c_ad1a5ba420409525ff5ab1be86ac5e526}{error} ()
\begin{DoxyCompactList}\small\item\em An error function for the I2\+C-\/bus. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{I2\+C.\+c@{I2\+C.\+c}!\+\_\+\+I2\+C\+\_\+\+H\+\_\+@{\+\_\+\+I2\+C\+\_\+\+H\+\_\+}}
\index{\+\_\+\+I2\+C\+\_\+\+H\+\_\+@{\+\_\+\+I2\+C\+\_\+\+H\+\_\+}!I2\+C.\+c@{I2\+C.\+c}}
\subsubsection[{\texorpdfstring{\+\_\+\+I2\+C\+\_\+\+H\+\_\+}{_I2C_H_}}]{\setlength{\rightskip}{0pt plus 5cm}\#define \+\_\+\+I2\+C\+\_\+\+H\+\_\+}\hypertarget{_i2_c_8c_a9dcbbd7906a2df6cfb055ff82ff38d33}{}\label{_i2_c_8c_a9dcbbd7906a2df6cfb055ff82ff38d33}


\subsection{Function Documentation}
\index{I2\+C.\+c@{I2\+C.\+c}!error@{error}}
\index{error@{error}!I2\+C.\+c@{I2\+C.\+c}}
\subsubsection[{\texorpdfstring{error()}{error()}}]{\setlength{\rightskip}{0pt plus 5cm}int error (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{_i2_c_8c_ad1a5ba420409525ff5ab1be86ac5e526}{}\label{_i2_c_8c_ad1a5ba420409525ff5ab1be86ac5e526}


An error function for the I2\+C-\/bus. 

An error function called if a problem is encountered during I2\+C-\/communication. \index{I2\+C.\+c@{I2\+C.\+c}!i2c\+\_\+read@{i2c\+\_\+read}}
\index{i2c\+\_\+read@{i2c\+\_\+read}!I2\+C.\+c@{I2\+C.\+c}}
\subsubsection[{\texorpdfstring{i2c\+\_\+read(unsigned char slave\+\_\+addr, unsigned char reg\+\_\+addr, unsigned char length, unsigned char $\ast$data)}{i2c_read(unsigned char slave_addr, unsigned char reg_addr, unsigned char length, unsigned char *data)}}]{\setlength{\rightskip}{0pt plus 5cm}int i2c\+\_\+read (
\begin{DoxyParamCaption}
\item[{unsigned char}]{slave\+\_\+addr, }
\item[{unsigned char}]{reg\+\_\+addr, }
\item[{unsigned char}]{length, }
\item[{unsigned char $\ast$}]{data}
\end{DoxyParamCaption}
)}\hypertarget{_i2_c_8c_ac2d47e7a6c76f93f9b537c31a2986e7b}{}\label{_i2_c_8c_ac2d47e7a6c76f93f9b537c31a2986e7b}


Reads data from a register at slave. 

Reads some data from a register at the slave address. \begin{DoxySeeAlso}{See also}
I2\+C-\/start 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em slave\+\_\+addr} & The address of the slave \\
\hline
{\em reg\+\_\+addr} & The register address of the register to be read from at the slave \\
\hline
{\em length} & The length of the transmission \\
\hline
{\em data} & The data received \\
\hline
\end{DoxyParams}
\index{I2\+C.\+c@{I2\+C.\+c}!I2\+C\+\_\+start@{I2\+C\+\_\+start}}
\index{I2\+C\+\_\+start@{I2\+C\+\_\+start}!I2\+C.\+c@{I2\+C.\+c}}
\subsubsection[{\texorpdfstring{I2\+C\+\_\+start()}{I2C_start()}}]{\setlength{\rightskip}{0pt plus 5cm}void I2\+C\+\_\+start (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{_i2_c_8c_a263c74ce484e3680c05a9118707fadb7}{}\label{_i2_c_8c_a263c74ce484e3680c05a9118707fadb7}


Opens up the I2\+C-\/bus. 

Opens the bus for communication. All transmissions must be started with this command. Leaves the data line high. \index{I2\+C.\+c@{I2\+C.\+c}!I2\+C\+\_\+stop@{I2\+C\+\_\+stop}}
\index{I2\+C\+\_\+stop@{I2\+C\+\_\+stop}!I2\+C.\+c@{I2\+C.\+c}}
\subsubsection[{\texorpdfstring{I2\+C\+\_\+stop()}{I2C_stop()}}]{\setlength{\rightskip}{0pt plus 5cm}void I2\+C\+\_\+stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{_i2_c_8c_af8dcc1bcb3e1c6c0fcdca4cf599a239b}{}\label{_i2_c_8c_af8dcc1bcb3e1c6c0fcdca4cf599a239b}


Shuts down the I2\+C-\/bus. 

Sends the stop command for the bus. Leaves the data line high. \index{I2\+C.\+c@{I2\+C.\+c}!i2c\+\_\+write@{i2c\+\_\+write}}
\index{i2c\+\_\+write@{i2c\+\_\+write}!I2\+C.\+c@{I2\+C.\+c}}
\subsubsection[{\texorpdfstring{i2c\+\_\+write(unsigned char slave\+\_\+addr, unsigned char reg\+\_\+addr, unsigned char length, unsigned char const $\ast$data)}{i2c_write(unsigned char slave_addr, unsigned char reg_addr, unsigned char length, unsigned char const *data)}}]{\setlength{\rightskip}{0pt plus 5cm}int i2c\+\_\+write (
\begin{DoxyParamCaption}
\item[{unsigned char}]{slave\+\_\+addr, }
\item[{unsigned char}]{reg\+\_\+addr, }
\item[{unsigned char}]{length, }
\item[{unsigned char const $\ast$}]{data}
\end{DoxyParamCaption}
)}\hypertarget{_i2_c_8c_ac0f145afe8d662af199043939f4398d6}{}\label{_i2_c_8c_ac0f145afe8d662af199043939f4398d6}


Writes data to a register at slave. 

Sends some data using the I2\+C-\/bus to a register at the slave address. \begin{DoxySeeAlso}{See also}
I2\+C-\/start 
\end{DoxySeeAlso}

\begin{DoxyParams}{Parameters}
{\em slave\+\_\+addr} & The address of the slave \\
\hline
{\em reg\+\_\+addr} & The register address of the register to be written to at the slave \\
\hline
{\em length} & The length of the transmission \\
\hline
{\em data} & The data to be sent \\
\hline
\end{DoxyParams}
