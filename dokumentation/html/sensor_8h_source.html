<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Kandidatprojekt: sensor/sensor/sensor.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kandidatprojekt
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_59f484095bcddb1b5c7cfcc1ba766bc2.html">sensor</a></li><li class="navelem"><a class="el" href="dir_07c401a2647dcf8a13c286be887cb9f0.html">sensor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">sensor.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="sensor_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#ifndef SENSOR_H_</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#define SENSOR_H_</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="sensor_8h.html#a43bafb28b29491ec7f871319b5a3b2f8">   14</a></span>&#160;<span class="preprocessor">#define F_CPU 16000000UL    </span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;avr/io.h&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &lt;avr/interrupt.h&gt;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;avr/sleep.h&gt;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;util/delay.h&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;compat/twi.h&gt;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="sensor_8h.html#a6c4b361d72eb3767ba424ac9a6ecf52b">   23</a></span>&#160;<span class="preprocessor">#define x 0             </span></div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="sensor_8h.html#a0ed6a908288e0cd87f79c1b5ab56d07c">   24</a></span>&#160;<span class="preprocessor">#define y 1             </span></div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="sensor_8h.html#afb573e69f3b198fe9ca91079c4a402a9">   25</a></span>&#160;<span class="preprocessor">#define z 2             </span></div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="sensor_8h.html#a320a1ee237ba550bcdffd131a4198e17">   27</a></span>&#160;<span class="preprocessor">volatile uint8_t SPI_done = 0;      </span></div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="sensor_8h.html#a2c687b5d4d67e6900cd35ec11107a4ee">   28</a></span>&#160;<span class="preprocessor">volatile uint8_t SPI_overflow = 0;  </span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="sensor_8h.html#abf692cf614d069eb741fe7ee8a5bd31d">   32</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="sensor_8h.html#abf692cf614d069eb741fe7ee8a5bd31d">delay_time</a> = 50;          </div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="sensor_8h.html#ae76d77cd1b87b203973ac8baa4081271">   34</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#ae76d77cd1b87b203973ac8baa4081271">IR_sensor_distance_right</a> = 16.5;       </div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="sensor_8h.html#a85db4bba6dcce96787150b0aa1c9c978">   35</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#a85db4bba6dcce96787150b0aa1c9c978">IR_sensor_distance_left</a> = 16.5;        </div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="sensor_8h.html#a59d49b9b5c4c473c2c5cb4fcabb2bb36">   38</a></span>&#160;<span class="keyword">volatile</span> <span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#a59d49b9b5c4c473c2c5cb4fcabb2bb36">IR_latest_reading</a>[7];   </div><div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="sensor_8h.html#a760424856faf789a5a9d799bed405668">   39</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#a760424856faf789a5a9d799bed405668">IR_reading</a>[7][5];                </div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="sensor_8h.html#a9b74d5e1cbbe4f3668e310bdb07b34e8">   40</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#a9b74d5e1cbbe4f3668e310bdb07b34e8">IR_ADC</a>[7];                       </div><div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="sensor_8h.html#aaa34b4383904c1a2041b11c8b47bbc15">   41</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#aaa34b4383904c1a2041b11c8b47bbc15">IR_distance</a>[7];                  </div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="sensor_8h.html#ab11513fa2fd2a21b39f60ac1e5bbb064">   42</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="sensor_8h.html#ab11513fa2fd2a21b39f60ac1e5bbb064">IR_Yaw_right</a>, <a class="code" href="sensor_8h.html#a6a78596948fb325d4e213e9c371b35e5">IR_Yaw_left</a>;        </div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_a_d_c__distance__pair.html">   47</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_a_d_c__distance__pair.html#aa001cc67b1ec73e43eb6bd32d24a739b">   49</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="struct_a_d_c__distance__pair.html#aa001cc67b1ec73e43eb6bd32d24a739b">ADC_data</a>;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_a_d_c__distance__pair.html#a79b8e036dca6911e3295a47d99f21f43">   50</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="struct_a_d_c__distance__pair.html#a79b8e036dca6911e3295a47d99f21f43">distance</a>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;} <a class="code" href="struct_a_d_c__distance__pair.html">ADC_distance_pair</a>;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="sensor_8h.html#a6619824120bb407a94821a66f8bb922f">   53</a></span>&#160;<span class="keyword">volatile</span> <span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#a6619824120bb407a94821a66f8bb922f">US_latest_reading</a>;              </div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="sensor_8h.html#a2f6715b10308bb971461584c206dfde7">   54</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#a2f6715b10308bb971461584c206dfde7">US_reading</a>[5];</div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="sensor_8h.html#a26236a9447e72566800389cef1bcef58">   55</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#a26236a9447e72566800389cef1bcef58">US_distance</a>;                     </div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="sensor_8h.html#a25e4d5a596b4f9f7dd79548191d5286a">   59</a></span>&#160;uint8_t <a class="code" href="sensor_8h.html#a25e4d5a596b4f9f7dd79548191d5286a">buffer0_IR0</a> = 0xf0;             </div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="sensor_8h.html#a920bf7cd31f51ba27f4d7154760d6397">   60</a></span>&#160;uint8_t <a class="code" href="sensor_8h.html#a920bf7cd31f51ba27f4d7154760d6397">buffer1_IR1</a> = 0xf1;             </div><div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="sensor_8h.html#a7efd4085c0de1446450a923f6b075dc3">   61</a></span>&#160;uint8_t <a class="code" href="sensor_8h.html#a7efd4085c0de1446450a923f6b075dc3">buffer2_IR2</a> = 0xf2;             </div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="sensor_8h.html#a11674e633f257caae687446e074c13f6">   62</a></span>&#160;uint8_t <a class="code" href="sensor_8h.html#a11674e633f257caae687446e074c13f6">buffer3_IR3</a> = 0xf3;             </div><div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="sensor_8h.html#a710096596ef17e15194d9557c5ccceff">   63</a></span>&#160;uint8_t <a class="code" href="sensor_8h.html#a710096596ef17e15194d9557c5ccceff">buffer4_IR4</a> = 0xf4;             </div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="sensor_8h.html#a31b93d4352799841d373eb4f74ed0049">   64</a></span>&#160;uint8_t <a class="code" href="sensor_8h.html#a31b93d4352799841d373eb4f74ed0049">buffer5_IR5</a> = 0xf5;             </div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="sensor_8h.html#a544c2e919dc670aa1624f4f41a9d6fbf">   65</a></span>&#160;uint8_t <a class="code" href="sensor_8h.html#a544c2e919dc670aa1624f4f41a9d6fbf">buffer6_IR6</a> = 0xf6;             </div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="sensor_8h.html#aa308e9c1d2a396bb3f3a046ca9693b2d">   66</a></span>&#160;uint8_t <a class="code" href="sensor_8h.html#aa308e9c1d2a396bb3f3a046ca9693b2d">buffer7_US</a> = 0xf7;              </div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="sensor_8h.html#a9b23fe577ec379483a30362cd1a036f1">   67</a></span>&#160;int8_t <a class="code" href="sensor_8h.html#a9b23fe577ec379483a30362cd1a036f1">buffer8_IR_Yaw_left</a> = 0xf8;      </div><div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="sensor_8h.html#a3526afe7f83bc3aba2c3dfe52423d800">   68</a></span>&#160;int8_t <a class="code" href="sensor_8h.html#a3526afe7f83bc3aba2c3dfe52423d800">buffer9_IR_Yaw_right</a> = 0xf9;     </div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="sensor_8h.html#ad9db200d7187c0cbc24c997f7cdf1eda">   69</a></span>&#160;int8_t <a class="code" href="sensor_8h.html#ad9db200d7187c0cbc24c997f7cdf1eda">buffer10_IMU_Yaw_Low</a> = 0xfa;     </div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="sensor_8h.html#a6751f6849033b8cb222c62564455ad7b">   70</a></span>&#160;int8_t <a class="code" href="sensor_8h.html#a6751f6849033b8cb222c62564455ad7b">buffer11_IMU_Yaw_High</a> = 0xfb;    </div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="sensor_8h.html#a23007d6ec6eeeab1723fbd750b6ee8a3">   71</a></span>&#160;int8_t <a class="code" href="sensor_8h.html#a23007d6ec6eeeab1723fbd750b6ee8a3">buffer12_Pitch</a> = 0xfc;           </div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="sensor_8h.html#a95d464c150dfd1cc2c783dc00acd7533">   72</a></span>&#160;int8_t <a class="code" href="sensor_8h.html#a95d464c150dfd1cc2c783dc00acd7533">buffer13_Roll</a> = 0xfd;            </div><div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="sensor_8h.html#addd1a9480a36b7d4c52a1237f5c17286">   74</a></span>&#160;<span class="keyword">volatile</span> <span class="keywordtype">int</span> <a class="code" href="sensor_8h.html#addd1a9480a36b7d4c52a1237f5c17286">byte_to_send</a> = 0;          </div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="sensor_8h.html#a3cff338e3722c1c1a36de82d2a953bd3">   78</a></span>&#160;<span class="preprocessor">#define QUAT_W 0    </span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="sensor_8h.html#a470e1c82469f8e4f20d039de634a5360">   79</a></span>&#160;<span class="preprocessor">#define QUAT_X 1    </span></div><div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="sensor_8h.html#ac7215623b05131650c8a16e4326f3734">   80</a></span>&#160;<span class="preprocessor">#define QUAT_Y 2    </span></div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="sensor_8h.html#a4ed90c13353e0d8ceb2f74ea3070fe11">   81</a></span>&#160;<span class="preprocessor">#define QUAT_Z 3    </span></div><div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="sensor_8h.html#a7f881c6b2bb1dccd733c018dff655691">   83</a></span>&#160;<span class="preprocessor">#define MPU_HZ 12   </span></div><div class="line"><a name="l00084"></a><span class="lineno"><a class="line" href="sensor_8h.html#a8726913025efbadec677580f19a7535d">   84</a></span>&#160;<span class="preprocessor">#define USE_DMP 1   </span></div><div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="sensor_8h.html#aada9974f9914a0bef6efe028d48ae383">   86</a></span>&#160;<span class="preprocessor">volatile unsigned char IMU_data_ready = 0;                          </span></div><div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="sensor_8h.html#abc4898c1a34c444db2963e65dccbf97c">   88</a></span>&#160;<span class="preprocessor">const signed char _orientation[9] = {1, 0, 0,  0, 1, 0,  0, 0, 1};  </span></div><div class="line"><a name="l00090"></a><span class="lineno"><a class="line" href="sensor_8h.html#a0ad4931324e527c53bc98710a6d0dd39">   90</a></span>&#160;<span class="preprocessor">float quaternion[4];                    </span></div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="sensor_8h.html#a4d7a2891ce93bb287f942b34a77354e7">   91</a></span>&#160;<span class="preprocessor">float gravity[3];                       </span></div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="sensor_8h.html#a03d9ec4915ff658ec4a465315895106d">   92</a></span>&#160;<span class="preprocessor">float IMU_Yaw, IMU_Pitch, IMU_Roll;     </span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor"></span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="sensor_8h.html#af33e525daaa8347fcf5fa03c27ac77b5">   96</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#af33e525daaa8347fcf5fa03c27ac77b5">counter</a> = 0;             <span class="comment">// XXXXX Endast för sensor-kalibrering</span></div><div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="sensor_8h.html#a2943e5895f5488ed44ed4a86e59dcf1b">   97</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#a2943e5895f5488ed44ed4a86e59dcf1b">sum</a> = 0;                 <span class="comment">// XXXXX Endast för sensor-kalibrering</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="sensor_8h.html#ae93891ebfd341a8e6528beb03dc590ab">   98</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="sensor_8h.html#ae93891ebfd341a8e6528beb03dc590ab">initial_counter</a> = 0;        <span class="comment">// XXXXX Endast för sensor-kalibrering</span></div><div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="sensor_8h.html#a4c9d9cb8bb9d2b707a152051408f40e5">   99</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#a4c9d9cb8bb9d2b707a152051408f40e5">result</a>;                  <span class="comment">// XXXXX Endast för sensor-kalibrering</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="sensor_8h.html#aea6f77b6de5d03286eddec97260b58d1">  103</a></span>&#160;<a class="code" href="struct_a_d_c__distance__pair.html">ADC_distance_pair</a> <a class="code" href="sensor_8h.html#aea6f77b6de5d03286eddec97260b58d1">IR0_table</a>[] =</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    {48.0, 220},</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    {72.3, 150},</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {80.0, 140},</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    {88.1, 130},</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    {97.8, 120},</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    {110.2, 110},</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    {123.6, 100},</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    {140.0, 90},</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    {157.4, 80},</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {183.4, 70},</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    {217.2, 60},</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    {263.2, 50},</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    {294.6, 45},</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    {334.2, 40},</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    {382.9, 35},</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {437.4, 30},</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {501.9, 25},</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    {554.3, 20},</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    {572.5, 15}</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}; </div><div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="sensor_8h.html#a8339fe4dbbee2308a5f1b0a2d813e1d5">  125</a></span>&#160;<a class="code" href="struct_a_d_c__distance__pair.html">ADC_distance_pair</a> <a class="code" href="sensor_8h.html#a8339fe4dbbee2308a5f1b0a2d813e1d5">IR1_table</a>[] =</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    {39.3, 150},</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {83.9, 80},</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    {93.0, 70},</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {106.1, 60},</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    {127.3, 50},</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    {135.7, 45},</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    {151.9, 40},</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    {168.9, 35},</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    {193.7, 30},</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    {231.3, 25},</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    {284.3, 20},</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    {383.8, 15},</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    {576.1, 10}</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;};  </div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="sensor_8h.html#a8d3372b9f99cdb0224731c68b95f831e">  141</a></span>&#160;<a class="code" href="struct_a_d_c__distance__pair.html">ADC_distance_pair</a> <a class="code" href="sensor_8h.html#a8d3372b9f99cdb0224731c68b95f831e">IR2_table</a>[] =</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;{</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    {42.4, 240},</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {72.2, 150},</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {76.2, 140},</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    {84.5, 130},</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    {92.9, 120},</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {105.3, 110},</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    {116.9, 100},</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    {133.3, 90},</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    {153.0, 80},</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    {171.6, 70},</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    {206.4, 60},</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    {252.9, 50},</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    {283.4, 45},</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    {321.3, 40},</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    {370.6, 35},</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    {421.9, 30},</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    {483.5, 25},</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    {531.0, 20},</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    {561.3, 15}</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;};  </div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="sensor_8h.html#ae2d11b07f5d070503671bd7db51a040a">  163</a></span>&#160;<a class="code" href="struct_a_d_c__distance__pair.html">ADC_distance_pair</a> <a class="code" href="sensor_8h.html#ae2d11b07f5d070503671bd7db51a040a">IR3_table</a>[] =</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    {45.3, 240},</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    {74.4, 150},</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    {80.6, 140},</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    {88.8, 130},</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    {97.1, 120},</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    {107.3, 110},</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    {122.2, 100},</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    {136.8, 90},</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    {157.1, 80},</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    {181.5, 70},</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    {213.9, 60},</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    {258.3, 50},</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    {289.8, 45},</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {330.5, 40},</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    {378.8, 35},</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    {438.6, 30},</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    {499.4, 25},</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    {550.7, 20},</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    {574.7, 15}</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;};  </div><div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="sensor_8h.html#af0f2d3338f8aeee7a6dfe23213e562f6">  185</a></span>&#160;<a class="code" href="struct_a_d_c__distance__pair.html">ADC_distance_pair</a> <a class="code" href="sensor_8h.html#af0f2d3338f8aeee7a6dfe23213e562f6">IR4_table</a>[] =</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;{</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    {36.6, 150},</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    {84.5, 80},</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    {96.8, 70},</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {109.4, 60},</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    {124.6, 50},</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {138.2, 45},</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    {150.6, 40},</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {172.9, 35},</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    {196.2, 30},</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {234.3, 25},</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    {285.7, 20},</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    {390.1, 15},</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    {570.8, 10},</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;};  </div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="sensor_8h.html#acd33e89ce7fb300b6edfe6cdd6945a36">  201</a></span>&#160;<a class="code" href="struct_a_d_c__distance__pair.html">ADC_distance_pair</a> <a class="code" href="sensor_8h.html#acd33e89ce7fb300b6edfe6cdd6945a36">IR5_table</a>[] =</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    {47.7, 240},</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    {75.7, 150},</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    {81.2, 140},</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    {89.5, 130},</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    {99.5, 120},</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    {108.2, 110},</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    {121.0, 100},</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    {137.6, 90},</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {156.5, 80},</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    {179.1, 70},</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    {213.3, 60},</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    {257.7, 50},</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    {290.3, 45},</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    {325.9, 40},</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    {375.9, 35},</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    {428.7, 30},</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    {496.8, 25},</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {548.2, 20},</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    {562.6, 15}</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;};  </div><div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="sensor_8h.html#a919f2d74de392de03219cc9a9a662013">  223</a></span>&#160;<a class="code" href="struct_a_d_c__distance__pair.html">ADC_distance_pair</a> <a class="code" href="sensor_8h.html#a919f2d74de392de03219cc9a9a662013">IR6_table</a>[] =</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;{</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    {43.0, 240},</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    {69.4, 150},</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    {75.9, 140},</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    {82.7, 130},</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    {92.5, 120},</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    {101.8, 110},</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    {114.6, 100},</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    {132.0, 90},</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    {148.5, 80},</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    {170.3, 70},</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    {205.2, 60},</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    {252.6, 50},</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    {284.5, 45},</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    {325.5, 40},</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    {373.1, 35},</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    {430.7, 30},</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    {490.3, 25},</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    {544.7, 20},</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    {576.6, 15}</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;};  </div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#a342ab07b607f3dc4efa0655ca1acd164">init_ADC</a>();</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#a16afe9a4d2627f3f7f1bab054d4ad7ad">init_US</a>();</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#a1065be4c03eff55f82e136ccb95a2854">init_SPI</a>();</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#a38016ab7b2931bcb950e0c6f3ba3f342">init_timer</a>();</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#a87c8819d26491fb701918e147117710c">init_I2C</a>();</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#a1009b8de0745458d734bd73beda5ea25">init_IMU</a>();</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#abf51091638bfe4a1e4479fa12a95b0a9">run_self_test</a>();</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#ad53a97524cf65efb444e93e9061d9353">init_IMU_interrupt</a>();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#a41da5db2af35bde04662acc0c8ed5e22">ADC_IR</a>();</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#ad5232fda58bb026c495517be3c84307a">read_IMU</a>();</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#ae0b3db1a7cd93a0205ff39ef05844259">send_ping</a>();</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#ad15899f7d08c246d74789f75dd145035">ADC_to_distance</a>();</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keywordtype">double</span> <a class="code" href="sensor_8h.html#a074b774196f608f2234e624682b55967">lookup_distance</a>(<a class="code" href="struct_a_d_c__distance__pair.html">ADC_distance_pair</a>* ADC_dist_table, <span class="keywordtype">double</span> ADC_value, <span class="keywordtype">int</span> table_size);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#a4400365e5a5de20eeaf4e78531e39e9b">time_to_distance</a>();</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#a5611f3fef1c7ebe6f76d952adf576e86">calculate_Yaw</a>();</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#a387deb5b003e6eec445d95d9b30717f4">save_to_buffer</a>();</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#ad838d8be45b7b7018e394ec9319e3795">NormalizeQuaternion</a>(<span class="keywordtype">float</span> *quat);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="keywordtype">float</span> <a class="code" href="sensor_8h.html#abf62ec6a8b0cc932582548dbd5032901">restrict_angle</a>(<span class="keywordtype">float</span> <a class="code" href="styr_2styr_2main_8c.html#ab8ef1bf8a70cc07c6d55823c390a7e76">angle</a>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="keywordtype">void</span> <a class="code" href="sensor_8h.html#ac6723e64e3c0cb29dcf2a13409964453">kalibrering</a>();     <span class="comment">// XXXXX Endast för att kunna kalibrera sensorer!</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* SENSOR_H_ */</span><span class="preprocessor"></span></div><div class="ttc" id="sensor_8h_html_ad15899f7d08c246d74789f75dd145035"><div class="ttname"><a href="sensor_8h.html#ad15899f7d08c246d74789f75dd145035">ADC_to_distance</a></div><div class="ttdeci">void ADC_to_distance()</div><div class="ttdoc">Converts the readings from the IR sensors to distances. </div><div class="ttdef"><b>Definition:</b> sensor.c:708</div></div>
<div class="ttc" id="sensor_8h_html_a544c2e919dc670aa1624f4f41a9d6fbf"><div class="ttname"><a href="sensor_8h.html#a544c2e919dc670aa1624f4f41a9d6fbf">buffer6_IR6</a></div><div class="ttdeci">uint8_t buffer6_IR6</div><div class="ttdef"><b>Definition:</b> sensor.h:65</div></div>
<div class="ttc" id="struct_a_d_c__distance__pair_html"><div class="ttname"><a href="struct_a_d_c__distance__pair.html">ADC_distance_pair</a></div><div class="ttdef"><b>Definition:</b> sensor.h:47</div></div>
<div class="ttc" id="sensor_8h_html_a11674e633f257caae687446e074c13f6"><div class="ttname"><a href="sensor_8h.html#a11674e633f257caae687446e074c13f6">buffer3_IR3</a></div><div class="ttdeci">uint8_t buffer3_IR3</div><div class="ttdef"><b>Definition:</b> sensor.h:62</div></div>
<div class="ttc" id="sensor_8h_html_a16afe9a4d2627f3f7f1bab054d4ad7ad"><div class="ttname"><a href="sensor_8h.html#a16afe9a4d2627f3f7f1bab054d4ad7ad">init_US</a></div><div class="ttdeci">void init_US()</div><div class="ttdoc">Initiates the ultra sound sensor. </div><div class="ttdef"><b>Definition:</b> sensor.c:362</div></div>
<div class="ttc" id="sensor_8h_html_ab11513fa2fd2a21b39f60ac1e5bbb064"><div class="ttname"><a href="sensor_8h.html#ab11513fa2fd2a21b39f60ac1e5bbb064">IR_Yaw_right</a></div><div class="ttdeci">float IR_Yaw_right</div><div class="ttdef"><b>Definition:</b> sensor.h:42</div></div>
<div class="ttc" id="sensor_8h_html_a1065be4c03eff55f82e136ccb95a2854"><div class="ttname"><a href="sensor_8h.html#a1065be4c03eff55f82e136ccb95a2854">init_SPI</a></div><div class="ttdeci">void init_SPI()</div><div class="ttdoc">Initiates the SPI-bus. </div><div class="ttdef"><b>Definition:</b> sensor.c:391</div></div>
<div class="ttc" id="sensor_8h_html_a8339fe4dbbee2308a5f1b0a2d813e1d5"><div class="ttname"><a href="sensor_8h.html#a8339fe4dbbee2308a5f1b0a2d813e1d5">IR1_table</a></div><div class="ttdeci">ADC_distance_pair IR1_table[]</div><div class="ttdef"><b>Definition:</b> sensor.h:125</div></div>
<div class="ttc" id="sensor_8h_html_a8d3372b9f99cdb0224731c68b95f831e"><div class="ttname"><a href="sensor_8h.html#a8d3372b9f99cdb0224731c68b95f831e">IR2_table</a></div><div class="ttdeci">ADC_distance_pair IR2_table[]</div><div class="ttdef"><b>Definition:</b> sensor.h:141</div></div>
<div class="ttc" id="sensor_8h_html_abf51091638bfe4a1e4479fa12a95b0a9"><div class="ttname"><a href="sensor_8h.html#abf51091638bfe4a1e4479fa12a95b0a9">run_self_test</a></div><div class="ttdeci">void run_self_test()</div><div class="ttdoc">Runs a self-test on the IMU. </div><div class="ttdef"><b>Definition:</b> sensor.c:970</div></div>
<div class="ttc" id="sensor_8h_html_a5611f3fef1c7ebe6f76d952adf576e86"><div class="ttname"><a href="sensor_8h.html#a5611f3fef1c7ebe6f76d952adf576e86">calculate_Yaw</a></div><div class="ttdeci">void calculate_Yaw()</div><div class="ttdoc">Calculate Yaw angle from the values from the IR sensors. </div><div class="ttdef"><b>Definition:</b> sensor.c:827</div></div>
<div class="ttc" id="sensor_8h_html_a59d49b9b5c4c473c2c5cb4fcabb2bb36"><div class="ttname"><a href="sensor_8h.html#a59d49b9b5c4c473c2c5cb4fcabb2bb36">IR_latest_reading</a></div><div class="ttdeci">volatile double IR_latest_reading[7]</div><div class="ttdef"><b>Definition:</b> sensor.h:38</div></div>
<div class="ttc" id="sensor_8h_html_a31b93d4352799841d373eb4f74ed0049"><div class="ttname"><a href="sensor_8h.html#a31b93d4352799841d373eb4f74ed0049">buffer5_IR5</a></div><div class="ttdeci">uint8_t buffer5_IR5</div><div class="ttdef"><b>Definition:</b> sensor.h:64</div></div>
<div class="ttc" id="sensor_8h_html_a41da5db2af35bde04662acc0c8ed5e22"><div class="ttname"><a href="sensor_8h.html#a41da5db2af35bde04662acc0c8ed5e22">ADC_IR</a></div><div class="ttdeci">void ADC_IR()</div><div class="ttdoc">Samples data from the IR sensors. </div><div class="ttdef"><b>Definition:</b> sensor.c:549</div></div>
<div class="ttc" id="sensor_8h_html_a342ab07b607f3dc4efa0655ca1acd164"><div class="ttname"><a href="sensor_8h.html#a342ab07b607f3dc4efa0655ca1acd164">init_ADC</a></div><div class="ttdeci">void init_ADC()</div><div class="ttdoc">FUNKTIONER ///. </div><div class="ttdef"><b>Definition:</b> sensor.c:331</div></div>
<div class="ttc" id="sensor_8h_html_a4c9d9cb8bb9d2b707a152051408f40e5"><div class="ttname"><a href="sensor_8h.html#a4c9d9cb8bb9d2b707a152051408f40e5">result</a></div><div class="ttdeci">double result</div><div class="ttdef"><b>Definition:</b> sensor.h:99</div></div>
<div class="ttc" id="sensor_8h_html_aa308e9c1d2a396bb3f3a046ca9693b2d"><div class="ttname"><a href="sensor_8h.html#aa308e9c1d2a396bb3f3a046ca9693b2d">buffer7_US</a></div><div class="ttdeci">uint8_t buffer7_US</div><div class="ttdef"><b>Definition:</b> sensor.h:66</div></div>
<div class="ttc" id="sensor_8h_html_a6751f6849033b8cb222c62564455ad7b"><div class="ttname"><a href="sensor_8h.html#a6751f6849033b8cb222c62564455ad7b">buffer11_IMU_Yaw_High</a></div><div class="ttdeci">int8_t buffer11_IMU_Yaw_High</div><div class="ttdef"><b>Definition:</b> sensor.h:70</div></div>
<div class="ttc" id="sensor_8h_html_acd33e89ce7fb300b6edfe6cdd6945a36"><div class="ttname"><a href="sensor_8h.html#acd33e89ce7fb300b6edfe6cdd6945a36">IR5_table</a></div><div class="ttdeci">ADC_distance_pair IR5_table[]</div><div class="ttdef"><b>Definition:</b> sensor.h:201</div></div>
<div class="ttc" id="sensor_8h_html_a26236a9447e72566800389cef1bcef58"><div class="ttname"><a href="sensor_8h.html#a26236a9447e72566800389cef1bcef58">US_distance</a></div><div class="ttdeci">double US_distance</div><div class="ttdef"><b>Definition:</b> sensor.h:55</div></div>
<div class="ttc" id="sensor_8h_html_a3526afe7f83bc3aba2c3dfe52423d800"><div class="ttname"><a href="sensor_8h.html#a3526afe7f83bc3aba2c3dfe52423d800">buffer9_IR_Yaw_right</a></div><div class="ttdeci">int8_t buffer9_IR_Yaw_right</div><div class="ttdef"><b>Definition:</b> sensor.h:68</div></div>
<div class="ttc" id="sensor_8h_html_a95d464c150dfd1cc2c783dc00acd7533"><div class="ttname"><a href="sensor_8h.html#a95d464c150dfd1cc2c783dc00acd7533">buffer13_Roll</a></div><div class="ttdeci">int8_t buffer13_Roll</div><div class="ttdef"><b>Definition:</b> sensor.h:72</div></div>
<div class="ttc" id="sensor_8h_html_a9b74d5e1cbbe4f3668e310bdb07b34e8"><div class="ttname"><a href="sensor_8h.html#a9b74d5e1cbbe4f3668e310bdb07b34e8">IR_ADC</a></div><div class="ttdeci">double IR_ADC[7]</div><div class="ttdef"><b>Definition:</b> sensor.h:40</div></div>
<div class="ttc" id="sensor_8h_html_abf62ec6a8b0cc932582548dbd5032901"><div class="ttname"><a href="sensor_8h.html#abf62ec6a8b0cc932582548dbd5032901">restrict_angle</a></div><div class="ttdeci">float restrict_angle(float angle)</div><div class="ttdoc">Restricts an angle to range for int_8t. </div><div class="ttdef"><b>Definition:</b> sensor.c:901</div></div>
<div class="ttc" id="sensor_8h_html_ae76d77cd1b87b203973ac8baa4081271"><div class="ttname"><a href="sensor_8h.html#ae76d77cd1b87b203973ac8baa4081271">IR_sensor_distance_right</a></div><div class="ttdeci">const double IR_sensor_distance_right</div><div class="ttdef"><b>Definition:</b> sensor.h:34</div></div>
<div class="ttc" id="sensor_8h_html_a6619824120bb407a94821a66f8bb922f"><div class="ttname"><a href="sensor_8h.html#a6619824120bb407a94821a66f8bb922f">US_latest_reading</a></div><div class="ttdeci">volatile double US_latest_reading</div><div class="ttdef"><b>Definition:</b> sensor.h:53</div></div>
<div class="ttc" id="sensor_8h_html_a387deb5b003e6eec445d95d9b30717f4"><div class="ttname"><a href="sensor_8h.html#a387deb5b003e6eec445d95d9b30717f4">save_to_buffer</a></div><div class="ttdeci">void save_to_buffer()</div><div class="ttdoc">Saves all the data in a buffer. </div><div class="ttdef"><b>Definition:</b> sensor.c:856</div></div>
<div class="ttc" id="struct_a_d_c__distance__pair_html_aa001cc67b1ec73e43eb6bd32d24a739b"><div class="ttname"><a href="struct_a_d_c__distance__pair.html#aa001cc67b1ec73e43eb6bd32d24a739b">ADC_distance_pair::ADC_data</a></div><div class="ttdeci">double ADC_data</div><div class="ttdef"><b>Definition:</b> sensor.h:49</div></div>
<div class="ttc" id="sensor_8h_html_a710096596ef17e15194d9557c5ccceff"><div class="ttname"><a href="sensor_8h.html#a710096596ef17e15194d9557c5ccceff">buffer4_IR4</a></div><div class="ttdeci">uint8_t buffer4_IR4</div><div class="ttdef"><b>Definition:</b> sensor.h:63</div></div>
<div class="ttc" id="sensor_8h_html_a760424856faf789a5a9d799bed405668"><div class="ttname"><a href="sensor_8h.html#a760424856faf789a5a9d799bed405668">IR_reading</a></div><div class="ttdeci">double IR_reading[7][5]</div><div class="ttdef"><b>Definition:</b> sensor.h:39</div></div>
<div class="ttc" id="sensor_8h_html_a920bf7cd31f51ba27f4d7154760d6397"><div class="ttname"><a href="sensor_8h.html#a920bf7cd31f51ba27f4d7154760d6397">buffer1_IR1</a></div><div class="ttdeci">uint8_t buffer1_IR1</div><div class="ttdef"><b>Definition:</b> sensor.h:60</div></div>
<div class="ttc" id="sensor_8h_html_af0f2d3338f8aeee7a6dfe23213e562f6"><div class="ttname"><a href="sensor_8h.html#af0f2d3338f8aeee7a6dfe23213e562f6">IR4_table</a></div><div class="ttdeci">ADC_distance_pair IR4_table[]</div><div class="ttdef"><b>Definition:</b> sensor.h:185</div></div>
<div class="ttc" id="sensor_8h_html_a074b774196f608f2234e624682b55967"><div class="ttname"><a href="sensor_8h.html#a074b774196f608f2234e624682b55967">lookup_distance</a></div><div class="ttdeci">double lookup_distance(ADC_distance_pair *ADC_dist_table, double ADC_value, int table_size)</div><div class="ttdoc">Looks up equivalent distance to a ADC value in the table. </div><div class="ttdef"><b>Definition:</b> sensor.c:744</div></div>
<div class="ttc" id="sensor_8h_html_a919f2d74de392de03219cc9a9a662013"><div class="ttname"><a href="sensor_8h.html#a919f2d74de392de03219cc9a9a662013">IR6_table</a></div><div class="ttdeci">ADC_distance_pair IR6_table[]</div><div class="ttdef"><b>Definition:</b> sensor.h:223</div></div>
<div class="ttc" id="sensor_8h_html_a87c8819d26491fb701918e147117710c"><div class="ttname"><a href="sensor_8h.html#a87c8819d26491fb701918e147117710c">init_I2C</a></div><div class="ttdeci">void init_I2C()</div><div class="ttdoc">Initiates the I2C-bus. </div><div class="ttdef"><b>Definition:</b> sensor.c:452</div></div>
<div class="ttc" id="sensor_8h_html_a9b23fe577ec379483a30362cd1a036f1"><div class="ttname"><a href="sensor_8h.html#a9b23fe577ec379483a30362cd1a036f1">buffer8_IR_Yaw_left</a></div><div class="ttdeci">int8_t buffer8_IR_Yaw_left</div><div class="ttdef"><b>Definition:</b> sensor.h:67</div></div>
<div class="ttc" id="sensor_8h_html_ac6723e64e3c0cb29dcf2a13409964453"><div class="ttname"><a href="sensor_8h.html#ac6723e64e3c0cb29dcf2a13409964453">kalibrering</a></div><div class="ttdeci">void kalibrering()</div><div class="ttdef"><b>Definition:</b> sensor.c:993</div></div>
<div class="ttc" id="sensor_8h_html_ad838d8be45b7b7018e394ec9319e3795"><div class="ttname"><a href="sensor_8h.html#ad838d8be45b7b7018e394ec9319e3795">NormalizeQuaternion</a></div><div class="ttdeci">void NormalizeQuaternion(float *quat)</div><div class="ttdoc">Normalizes a quaternion. </div><div class="ttdef"><b>Definition:</b> sensor.c:935</div></div>
<div class="ttc" id="sensor_8h_html_aea6f77b6de5d03286eddec97260b58d1"><div class="ttname"><a href="sensor_8h.html#aea6f77b6de5d03286eddec97260b58d1">IR0_table</a></div><div class="ttdeci">ADC_distance_pair IR0_table[]</div><div class="ttdef"><b>Definition:</b> sensor.h:103</div></div>
<div class="ttc" id="sensor_8h_html_ad53a97524cf65efb444e93e9061d9353"><div class="ttname"><a href="sensor_8h.html#ad53a97524cf65efb444e93e9061d9353">init_IMU_interrupt</a></div><div class="ttdeci">void init_IMU_interrupt()</div><div class="ttdoc">Initiates the interrupt from the IMU. </div><div class="ttdef"><b>Definition:</b> sensor.c:518</div></div>
<div class="ttc" id="sensor_8h_html_ae0b3db1a7cd93a0205ff39ef05844259"><div class="ttname"><a href="sensor_8h.html#ae0b3db1a7cd93a0205ff39ef05844259">send_ping</a></div><div class="ttdeci">void send_ping()</div><div class="ttdoc">Forces a sound pulse from the US. </div><div class="ttdef"><b>Definition:</b> sensor.c:675</div></div>
<div class="ttc" id="sensor_8h_html_af33e525daaa8347fcf5fa03c27ac77b5"><div class="ttname"><a href="sensor_8h.html#af33e525daaa8347fcf5fa03c27ac77b5">counter</a></div><div class="ttdeci">double counter</div><div class="ttdef"><b>Definition:</b> sensor.h:96</div></div>
<div class="ttc" id="sensor_8h_html_ae2d11b07f5d070503671bd7db51a040a"><div class="ttname"><a href="sensor_8h.html#ae2d11b07f5d070503671bd7db51a040a">IR3_table</a></div><div class="ttdeci">ADC_distance_pair IR3_table[]</div><div class="ttdef"><b>Definition:</b> sensor.h:163</div></div>
<div class="ttc" id="sensor_8h_html_a85db4bba6dcce96787150b0aa1c9c978"><div class="ttname"><a href="sensor_8h.html#a85db4bba6dcce96787150b0aa1c9c978">IR_sensor_distance_left</a></div><div class="ttdeci">const double IR_sensor_distance_left</div><div class="ttdef"><b>Definition:</b> sensor.h:35</div></div>
<div class="ttc" id="sensor_8h_html_a7efd4085c0de1446450a923f6b075dc3"><div class="ttname"><a href="sensor_8h.html#a7efd4085c0de1446450a923f6b075dc3">buffer2_IR2</a></div><div class="ttdeci">uint8_t buffer2_IR2</div><div class="ttdef"><b>Definition:</b> sensor.h:61</div></div>
<div class="ttc" id="sensor_8h_html_a6a78596948fb325d4e213e9c371b35e5"><div class="ttname"><a href="sensor_8h.html#a6a78596948fb325d4e213e9c371b35e5">IR_Yaw_left</a></div><div class="ttdeci">float IR_Yaw_left</div><div class="ttdef"><b>Definition:</b> sensor.h:42</div></div>
<div class="ttc" id="sensor_8h_html_ad5232fda58bb026c495517be3c84307a"><div class="ttname"><a href="sensor_8h.html#ad5232fda58bb026c495517be3c84307a">read_IMU</a></div><div class="ttdeci">void read_IMU()</div><div class="ttdoc">Gathers data from the IMU. </div><div class="ttdef"><b>Definition:</b> sensor.c:597</div></div>
<div class="ttc" id="sensor_8h_html_a2f6715b10308bb971461584c206dfde7"><div class="ttname"><a href="sensor_8h.html#a2f6715b10308bb971461584c206dfde7">US_reading</a></div><div class="ttdeci">double US_reading[5]</div><div class="ttdef"><b>Definition:</b> sensor.h:54</div></div>
<div class="ttc" id="sensor_8h_html_a1009b8de0745458d734bd73beda5ea25"><div class="ttname"><a href="sensor_8h.html#a1009b8de0745458d734bd73beda5ea25">init_IMU</a></div><div class="ttdeci">void init_IMU()</div><div class="ttdoc">Initiates the IMU. </div><div class="ttdef"><b>Definition:</b> sensor.c:477</div></div>
<div class="ttc" id="sensor_8h_html_a25e4d5a596b4f9f7dd79548191d5286a"><div class="ttname"><a href="sensor_8h.html#a25e4d5a596b4f9f7dd79548191d5286a">buffer0_IR0</a></div><div class="ttdeci">uint8_t buffer0_IR0</div><div class="ttdef"><b>Definition:</b> sensor.h:59</div></div>
<div class="ttc" id="sensor_8h_html_a4400365e5a5de20eeaf4e78531e39e9b"><div class="ttname"><a href="sensor_8h.html#a4400365e5a5de20eeaf4e78531e39e9b">time_to_distance</a></div><div class="ttdeci">void time_to_distance()</div><div class="ttdoc">Converts time for the US to distance. </div><div class="ttdef"><b>Definition:</b> sensor.c:786</div></div>
<div class="ttc" id="sensor_8h_html_a38016ab7b2931bcb950e0c6f3ba3f342"><div class="ttname"><a href="sensor_8h.html#a38016ab7b2931bcb950e0c6f3ba3f342">init_timer</a></div><div class="ttdeci">void init_timer()</div><div class="ttdoc">Initiates a timer. </div><div class="ttdef"><b>Definition:</b> sensor.c:425</div></div>
<div class="ttc" id="sensor_8h_html_addd1a9480a36b7d4c52a1237f5c17286"><div class="ttname"><a href="sensor_8h.html#addd1a9480a36b7d4c52a1237f5c17286">byte_to_send</a></div><div class="ttdeci">volatile int byte_to_send</div><div class="ttdef"><b>Definition:</b> sensor.h:74</div></div>
<div class="ttc" id="struct_a_d_c__distance__pair_html_a79b8e036dca6911e3295a47d99f21f43"><div class="ttname"><a href="struct_a_d_c__distance__pair.html#a79b8e036dca6911e3295a47d99f21f43">ADC_distance_pair::distance</a></div><div class="ttdeci">double distance</div><div class="ttdef"><b>Definition:</b> sensor.h:50</div></div>
<div class="ttc" id="sensor_8h_html_a2943e5895f5488ed44ed4a86e59dcf1b"><div class="ttname"><a href="sensor_8h.html#a2943e5895f5488ed44ed4a86e59dcf1b">sum</a></div><div class="ttdeci">double sum</div><div class="ttdef"><b>Definition:</b> sensor.h:97</div></div>
<div class="ttc" id="styr_2styr_2main_8c_html_ab8ef1bf8a70cc07c6d55823c390a7e76"><div class="ttname"><a href="styr_2styr_2main_8c.html#ab8ef1bf8a70cc07c6d55823c390a7e76">angle</a></div><div class="ttdeci">float angle</div><div class="ttdef"><b>Definition:</b> main.c:33</div></div>
<div class="ttc" id="sensor_8h_html_abf692cf614d069eb741fe7ee8a5bd31d"><div class="ttname"><a href="sensor_8h.html#abf692cf614d069eb741fe7ee8a5bd31d">delay_time</a></div><div class="ttdeci">const int delay_time</div><div class="ttdef"><b>Definition:</b> sensor.h:32</div></div>
<div class="ttc" id="sensor_8h_html_aaa34b4383904c1a2041b11c8b47bbc15"><div class="ttname"><a href="sensor_8h.html#aaa34b4383904c1a2041b11c8b47bbc15">IR_distance</a></div><div class="ttdeci">double IR_distance[7]</div><div class="ttdef"><b>Definition:</b> sensor.h:41</div></div>
<div class="ttc" id="sensor_8h_html_ae93891ebfd341a8e6528beb03dc590ab"><div class="ttname"><a href="sensor_8h.html#ae93891ebfd341a8e6528beb03dc590ab">initial_counter</a></div><div class="ttdeci">int initial_counter</div><div class="ttdef"><b>Definition:</b> sensor.h:98</div></div>
<div class="ttc" id="sensor_8h_html_ad9db200d7187c0cbc24c997f7cdf1eda"><div class="ttname"><a href="sensor_8h.html#ad9db200d7187c0cbc24c997f7cdf1eda">buffer10_IMU_Yaw_Low</a></div><div class="ttdeci">int8_t buffer10_IMU_Yaw_Low</div><div class="ttdef"><b>Definition:</b> sensor.h:69</div></div>
<div class="ttc" id="sensor_8h_html_a23007d6ec6eeeab1723fbd750b6ee8a3"><div class="ttname"><a href="sensor_8h.html#a23007d6ec6eeeab1723fbd750b6ee8a3">buffer12_Pitch</a></div><div class="ttdeci">int8_t buffer12_Pitch</div><div class="ttdef"><b>Definition:</b> sensor.h:71</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
